import Icon from '@mdi/react';
import { mdiCloudOffOutline, mdiCloudCheckOutline } from '@mdi/js';
import MobileAppDownload from '/docs/partials/_mobile-app-download.md';
import MobileAppLogin from '/docs/partials/_mobile-app-login.md';
import MobileAppBackup from '/docs/partials/_mobile-app-backup.md';

# Mobile App

## Download

<MobileAppDownload />

:::info Android verification
Below are the SHA-256 fingerprints for the certificates signing the android applications.

- Playstore / Github releases:
  `86:C5:C4:55:DF:AF:49:85:92:3A:8F:35:AD:B3:1D:0C:9E:0B:95:7D:7F:94:C2:D2:AF:6A:24:38:AA:96:00:20`
- F-Droid releases:
  `FA:8B:43:95:F4:A6:47:71:A0:53:D1:C7:57:73:5F:A2:30:13:74:F5:3D:58:0D:D1:75:AA:F7:A1:35:72:9C:BF`

:::

:::info Beta Program
The beta release channel allows users to test upcoming changes before they are officially released. To join the channel use the links below.

- Android: Invitation link from [web](https://play.google.com/store/apps/details?id=app.alextran.immich) or from [mobile](https://play.google.com/store/apps/details?id=app.alextran.immich)
- iOS: [TestFlight invitation link](https://testflight.apple.com/join/1vYsAa8P)

:::

## Login

<MobileAppLogin />

## Backup

<MobileAppBackup />

:::info
You can enable automatic backup on supported devices. For more information see [Automatic Backup](/features/automatic-backup.md).
:::

## Sync only selected photos

If you have a large number of photos on the device, and you would prefer not to backup all the photos, then it might be prudent to only backup selected photos from device to the Immich server.

First, you need to enable the Storage Indicator in your app's settings. Navigate to **<ins>Settings -> Photo Grid</ins>** and enable **`Show Storage indicator on asset tiles`**; this makes it easy to distinguish local-only assets and synced assets.

:::note

This will enable a small cloud icon on the bottom right corner of the asset tile, indicating that the asset is synced to the server:

1. <Icon path={mdiCloudOffOutline} size={1} /> - Local-only asset; not synced to the server
2. <Icon path={mdiCloudCheckOutline} size={1} /> - Asset is synced to the server

:::

Now make sure that the local album is selected in the backup screen (steps 1-2 above). You can find these albums listed in **<ins>Library -> On this device</ins>**. To selectively upload photos from these albums, simply select the local-only photos and tap on the `Upload` button in the dynamic bottom menu.

<img
  src={require('./img/mobile-upload-open-photo.webp').default}
  width="50%"
  title="Upload button on local asset preview"
/>
<img
  src={require('./img/mobile-upload-selected-photos.webp').default}
  width="40%"
  title="Upload button after photos selection"
/>

## Free Up Space

**Free Up Space** allows you to remove local media files from your device that have already been successfully backed up to your Immich server (and are not in Immich trash). This helps reclaim storage on your mobile device without losing your memories.

### How it works

1.  **Configuration:**
    - **Cutoff date:** Free Up Space will only look for photos and videos **on or before** this date. Photos removed from the device don't show up in other (messaging) apps and have to be shared from Immich in order to send them.
    - **Keep on device:** You can choose to restrict removal to `Always keep` **All photos** or **All videos**, regardless of other settings. This setting can hamper freeing up space significantly â€” with 80 GB of videos and 40 GB photos, selecting `Always keep photos` retains thousands of photos on your device.
    - **Keep albums:** Hold all photos and videos in the selected albums on your device, regardless of other settings. Assets not already on the device will not be re-downloaded. {/* TODO: Section on how to re-download photos, and then link to it from here. */}
    - **Keep favorites:** This works the same way `Keep albums` does. By default, favorited assets are preserved on your device.
2.  **Scan & Review:** Before any files are removed, you are presented with a review screen to verify which items will be deleted.
3.  **Deletion:** Confirmed items are moved to your device's native Trash/Recycle Bin. They will be permanently removed by the OS based on your system settings (usually after 30 days).

:::info reclaim storage
You must empty the system/gallery trash manually outside of Immich to reclaim storage faster than 30 days.
:::

Provided the server is healthy and [backed up](/administration/backup-and-restore.md), assets removed by Free Up Space can always be accessed in the Immich app (which re-downloads them from the server). Selecting to keep an extra copy on your device serves as an additional safeguard against disasters with the server.

:::info Android Permissions
For the smoothest experience on Android, you should grant Immich special delete privileges. Without this, you may be prompted to confirm deletion for every single image.

Go to **Immich Settings > Advanced** and enable **`Media Management Access`**.
:::

### iCloud Photos (iOS Users)

If you use **iCloud Photos** alongside Immich, it is vital to understand how deletion affects your data. After using Free Up Space, the photo will be stored **only** on your Immich server (and your phone's "Recently Deleted" folder for 30 days).

**Shared Albums**
Assets that are part of an **iCloud Shared Album** are automatically excluded from Free Up Space to ensure they remain accessible to others in the shared album.
:::

:::warning iCloud & Backups
If, in addition to Immich, you rely on iCloud as a secondary backup (as part of your [3-2-1](https://www.backblaze.com/blog/the-3-2-1-backup-strategy/) backup strategy), you should instead use `Optimize iPhone Storage` in [iCloud Photos](https://support.apple.com/en-us/105061).

iCloud utilizes a two-way sync; this means deleting a photo, or using Free Up Space from your iPhone will **also delete it from iCloud** and all other devices (Mac, iPad) where you're signed in with the same Apple Account. See [Apple Support](https://support.apple.com/en-us/108922#iCloud_photo_library) for more info.

### External App Dependencies (WhatsApp, etc.)

:::danger WhatsApp & Local Files
Android applications like **WhatsApp** rely on local files to display media in chat history.

If you've selected Immich to back up your WhatsApp folder and you run **Free Up Space**, the local copies of these images will be deleted. Consequently, **media in your WhatsApp chats will appear blurry or missing.** You will only be able to view these photos inside the Immich app; they will no longer be visible within the WhatsApp interface.
:::

**Recommendation:** If keeping chat history intact is important, exclude WhatsApp with `Keep albums` in Free Up Space and review the deletion list carefully. You have to enable [Album Sync](#album-sync) for WhatsApp to show up in the list. Alternatively, don't [back up](#backup) WhatsApp with Immich.

:::warning Chat history
Immich does not back up WhatsApp chat history, only the photos in them. To back up chat history, see [WhatsApp documentation](https://faq.whatsapp.com/481135090640375).

## Album Sync

You can sync or mirror an album from your phone to the Immich server on your account. For example, if you select Recents, Camera and Videos album for backup, the corresponding album with the same name will be created on the server. Once the assets from those albums are uploaded, they will be put into the target albums automatically.

### Album Synchronization Highlights

- **One-Way Sync:** Synchronization is one-way, from the device to the server.

- **Name Matching:** If an album on the server has the same name as the album on the device, images from the device will be merged with the existing images in the server album.

- **Shared Albums:** If the matching album on the server is shared, the new photos merged into the album will also be shared.

- **Album Structure:** When an album is created for the first time, its structure is based on the initial state. Future updates made on the phone (such as deleting or repositioning photos) will not be reflected in Immich.

- **User-Specific Sync:** Album synchronization is unique to each server user and does not sync between different users or partners.

- **Mobile-Only Feature:** Album synchronization is currently only available on mobile. For similar options on a computer, refer to [Libraries](/features/libraries) for further details.

### Synchronizing albums from the past

Albums can be synchronized to the server even if they did not exist on the server before. In order to apply this setting you have to:  
Enter the cloud on the top right -> cog wheel on the top right -> select the sync option under Sync albums.

:::info Sync albums delete/move photos
If you delete/move photos in the local album on your device, it will not be reflected in the album on the server **even if** you click Sync albums
It will only reflect files you add.
:::
