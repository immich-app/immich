-- NOTE: This file is auto generated by ./sql-generator

-- ViewRepository.getUniqueOriginalPaths
select distinct
  substring("assets"."originalPath", $1) as "directoryPath"
from
  "assets"
where
  "ownerId" = $2::uuid
  and "isVisible" = $3
  and "isArchived" = $4
  and "deletedAt" is null

-- ViewRepository.getAssetsByOriginalPath
select
  "assets".*,
  to_jsonb("exif") as "exifInfo"
from
  "assets"
  left join "exif" on "assets"."id" = "exif"."assetId"
where
  "ownerId" = $1::uuid
  and "isVisible" = $2
  and "isArchived" = $3
  and "deletedAt" is null
  and "originalPath" like $4
  and "originalPath" not like $5
order by
  regexp_replace("assets"."originalPath", $6, $7) asc
