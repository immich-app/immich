-- NOTE: This file is auto generated by ./sql-generator

-- ViewRepository.getUniqueOriginalPaths
select distinct
  substring("assets"."originalPath", $1) as "directoryPath"
from
  "assets"
where
  "ownerId" = $2::uuid
  and "visibility" = $3
  and "deletedAt" is null
  and "fileCreatedAt" is not null
  and "fileModifiedAt" is not null
  and "localDateTime" is not null

-- ViewRepository.getAssetsByOriginalPath
select
  "assets".*,
  to_json("exif") as "exifInfo"
from
  "assets"
  left join "exif" on "assets"."id" = "exif"."assetId"
where
  "ownerId" = $1::uuid
  and "visibility" = $2
  and "deletedAt" is null
  and "fileCreatedAt" is not null
  and "fileModifiedAt" is not null
  and "localDateTime" is not null
  and "originalPath" like $3
  and "originalPath" not like $4
order by
  regexp_replace("assets"."originalPath", $5, $6) asc
